# 业务流

## 前置条件
最少有两个页面，且使用的页面引用的元数据均需要已勾选业务流

## 操作流程
1. 切换页签到流程&自动化，选择业务流，点击新增按钮，输入流程名称后保存
   ![](images/image54.png)
   <!-- ![](images/3-01.png) -->
2. 点击设计，进入设计器
   ![](images/image55.png)
<!-- 2. 输入流程名称
   ![](images/3-02.png) -->
3. 拖拽要使用的页面到画布中，并链接两个组件，建立推送方向，点击加号，新增规则  
   > 此处使用的页面引用的元数据需要已勾选业务流   
   > 推送方向为入职申请单到员工管理，即入职申请单下推时，可以将对应数据映射到相应字段，不必手工添加。
   ![](images/image56.png)
<!-- ![](images/3-03.png)
   ![](images/3-04.png)
4. 链接两个组件，建立推送方向
   > 推送方向为入职申请单到员工管理，即入职申请单下推时，可以将对应数据映射到相应字段，不必手工添加。
   ![](images/3-05.png)
   ![](images/3-06.png)
5. 点击加号，点击新增规则
   ![](images/3-07.png) -->
6. 基本信息-输入规则名称
   ![](images/image57.png)
   <!-- ![](images/3-08.png) -->
7. 切换页签触发设置-选择手工设置
   > 这里可以选择触发时间，选择手工设置，即为手动选择某条数据点击下推时进行该业务流操作。（鼠标放在触发事件文字后的问号上即可了解其他触发事件或[点击查看其他触发事件](../instructions/datamodel.md)）
   ![](images/image58.png)
   <!-- ![](images/3-09.png) -->
<!-- 
单据生效
指流程审批完成或数据收集类型表单提交后触发。
流程环节
指审批流程的各个环节处理完成后触发，可多选。
流程操作
指审批处理时的操作，如终止流程、驳回制单、撤回驳回制单、已经结束的流程做撤回、发起人撤回单据等操作触发。
手工触发
由按钮点击触发。
单据动作
指单据的保存、审核、弃审、删除等操作触发。 
-->
8. 切换页签生单方式
   ![](images/image59.png)
   <!-- ![](images/3-10.png) -->
9. 切换转换规则-按图提示配置
   > 这里可以选择映射的字段，同时可以通过关联选择自定义映射规则。例如此处来源单据为入职申请单，目标单据为员工信息，来源字段为入职申请单的姓名，目标字段为员工信息的姓名，关联选择为简单映射，那么下推时，员工信息会新增一条数据，姓名字段为入职申请单的姓名。
   ![](images/image60.png)
   <!-- ![](images/3-9.png) -->
10. 完成设置后保存
<!-- 10. 点击确定完成规则配置
   ![](images/3-12.png)
11. 点击保存完成业务流配置
   ![](images/3-13.png)
   ![](images/3-14.png) -->

## 测试
1. 点击预览入职申请列表
   ![](images/3-15.png)
2. 选择一条数据，点击下推
   ![](images/3-16.png)
   ![](images/3-17.png)
   ![](images/3-18.png)
3. 员工维护中查看
   ![](images/3-19.png)
   ![](images/3-20.png)